<% content_for :title, "Posts" %>

<div class="max-w-3xl mx-auto space-y-6">
  <!-- Head with title and New Post button -->
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold">Posts</h1>

    <% if user_signed_in? %>
      <%= link_to "New Post", new_post_path,
            data: { turbo_frame: "new_post" },
            class: "btn-primary" %>
    <% end %>
  </div>

  <div id="posts_list" class="grid gap-4">
    <!-- New Post frame -->
    <%= turbo_frame_tag "new_post" %>

    <!-- Posts list -->
    <% @posts.each do |post| %>
      <%= turbo_frame_tag dom_id(post) do %>
        <%= render post %>
      <% end %>
    <% end %>
  </div>
</div>
